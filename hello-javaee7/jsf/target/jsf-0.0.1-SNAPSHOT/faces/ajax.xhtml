<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"> 

<h:head>Ajax</h:head> 
<h:body> 
	<h1>Ajax in JSF</h1>
	This application is divided into 2 part, first part is used for registering a account and the next part is used to login
	<br/>
	<br/>
	<h2>Ajax using Javascript</h2>
	<h:outputScript name="jsf.js" library="javax.faces" target="body"></h:outputScript>
	Register
	<!-- when prependID = true it will override value of id like parentif:childid and javascript code do not specify which id reffer to -->
	<h:form prependId="false">
		Name: <h:inputText value="#{user.name}" id="name" /><br/>
		Password: <h:inputText value="#{user.password}" id="password" /><br/>
		<h:commandButton action="#{userService.register}" value="Login" type="button"
		onclick="jsf.ajax.request(this, event, {
				execute:'name password', render: 'status'
			});"/>
		<h:outputText value="#{user.status}" id="status"/>
	</h:form>
	
	<h2>Declaretive Ajax</h2>
	Login
	<h:form prependId="true">
	Name: <h:inputText value="#{user.name}" id="name"/><br/>
	Password: <h:inputText value="#{user.password}" id="password" /><br/>
	<h:commandButton actionListener="#{user.login}" value="Login" type="button">
		<f:ajax execute="name password" render="status"></f:ajax>
	</h:commandButton>
	<h:outputText value="#{user.status}" id="status"/>
	</h:form>
</h:body> 
</html>
